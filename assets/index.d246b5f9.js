const Pe=function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))s(i);new MutationObserver(i=>{for(const r of i)if(r.type==="childList")for(const o of r.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&s(o)}).observe(document,{childList:!0,subtree:!0});function n(i){const r={};return i.integrity&&(r.integrity=i.integrity),i.referrerpolicy&&(r.referrerPolicy=i.referrerpolicy),i.crossorigin==="use-credentials"?r.credentials="include":i.crossorigin==="anonymous"?r.credentials="omit":r.credentials="same-origin",r}function s(i){if(i.ep)return;i.ep=!0;const r=n(i);fetch(i.href,r)}};Pe();const p={};function Be(e){p.context=e}const Ie=(e,t)=>e===t,Oe=Symbol("solid-track"),U={equals:Ie};let pe=Se;const L={},x=1,q=2,$e={owned:null,cleanups:null,context:null,owner:null};var m=null;let K=null,h=null,F=null,_=null,$=null,ie=0;function M(e,t){const n=h,s=m,i=e.length===0?$e:{owned:null,cleanups:null,context:null,owner:t||s};m=i,h=null;try{return oe(()=>e(()=>ce(i)),!0)}finally{h=n,m=s}}function N(e,t){t=t?Object.assign({},U,t):U;const n={value:e,observers:null,observerSlots:null,pending:L,comparator:t.equals||void 0},s=i=>(typeof i=="function"&&(i=i(n.pending!==L?n.pending:n.value)),re(n,i));return[Ae.bind(n),s]}function C(e,t,n){const s=le(e,t,!1,x);j(s)}function Ce(e,t,n){pe=Ke;const s=le(e,t,!1,x);s.user=!0,$?$.push(s):j(s)}function E(e,t,n){n=n?Object.assign({},U,n):U;const s=le(e,t,!0,0);return s.pending=L,s.observers=null,s.observerSlots=null,s.comparator=n.equals||void 0,j(s),Ae.bind(s)}function Le(e){if(F)return e();let t;const n=F=[];try{t=e()}finally{F=null}return oe(()=>{for(let s=0;s<n.length;s+=1){const i=n[s];if(i.pending!==L){const r=i.pending;i.pending=L,re(i,r)}}},!1),t}function D(e){let t,n=h;return h=null,t=e(),h=n,t}function De(e){Ce(()=>D(e))}function ee(e){return m===null||(m.cleanups===null?m.cleanups=[e]:m.cleanups.push(e)),e}function Fe(e){const t=E(e);return E(()=>te(t()))}function Ae(){const e=K;if(this.sources&&(this.state||e)){const t=_;_=null,this.state===x||e?j(this):V(this),_=t}if(h){const t=this.observers?this.observers.length:0;h.sources?(h.sources.push(this),h.sourceSlots.push(t)):(h.sources=[this],h.sourceSlots=[t]),this.observers?(this.observers.push(h),this.observerSlots.push(h.sources.length-1)):(this.observers=[h],this.observerSlots=[h.sources.length-1])}return this.value}function re(e,t,n){if(F)return e.pending===L&&F.push(e),e.pending=t,t;if(e.comparator&&e.comparator(e.value,t))return t;let s=!1;return e.value=t,e.observers&&e.observers.length&&oe(()=>{for(let i=0;i<e.observers.length;i+=1){const r=e.observers[i];s&&K.disposed.has(r),(s&&!r.tState||!s&&!r.state)&&(r.pure?_.push(r):$.push(r),r.observers&&Ne(r)),s||(r.state=x)}if(_.length>1e6)throw _=[],new Error},!1),t}function j(e){if(!e.fn)return;ce(e);const t=m,n=h,s=ie;h=m=e,Me(e,e.value,s),h=n,m=t}function Me(e,t,n){let s;try{s=e.fn(t)}catch(i){Ee(i)}(!e.updatedAt||e.updatedAt<=n)&&(e.observers&&e.observers.length?re(e,s):e.value=s,e.updatedAt=n)}function le(e,t,n,s=x,i){const r={fn:e,state:s,updatedAt:null,owned:null,sources:null,sourceSlots:null,cleanups:null,value:t,owner:m,context:null,pure:n};return m===null||m!==$e&&(m.owned?m.owned.push(r):m.owned=[r]),r}function R(e){const t=K;if(e.state===0||t)return;if(e.state===q||t)return V(e);if(e.suspense&&D(e.suspense.inFallback))return e.suspense.effects.push(e);const n=[e];for(;(e=e.owner)&&(!e.updatedAt||e.updatedAt<ie);)(e.state||t)&&n.push(e);for(let s=n.length-1;s>=0;s--)if(e=n[s],e.state===x||t)j(e);else if(e.state===q||t){const i=_;_=null,V(e,n[0]),_=i}}function oe(e,t){if(_)return e();let n=!1;t||(_=[]),$?n=!0:$=[],ie++;try{const s=e();return Re(n),s}catch(s){Ee(s)}finally{_=null,n||($=null)}}function Re(e){_&&(Se(_),_=null),!e&&($.length?Le(()=>{pe($),$=null}):$=null)}function Se(e){for(let t=0;t<e.length;t++)R(e[t])}function Ke(e){let t,n=0;for(t=0;t<e.length;t++){const i=e[t];i.user?e[n++]=i:R(i)}p.context&&Be();const s=e.length;for(t=0;t<n;t++)R(e[t]);for(t=s;t<e.length;t++)R(e[t])}function V(e,t){const n=K;e.state=0;for(let s=0;s<e.sources.length;s+=1){const i=e.sources[s];i.sources&&(i.state===x||n?i!==t&&R(i):(i.state===q||n)&&V(i,t))}}function Ne(e){const t=K;for(let n=0;n<e.observers.length;n+=1){const s=e.observers[n];(!s.state||t)&&(s.state=q,s.pure?_.push(s):$.push(s),s.observers&&Ne(s))}}function ce(e){let t;if(e.sources)for(;e.sources.length;){const n=e.sources.pop(),s=e.sourceSlots.pop(),i=n.observers;if(i&&i.length){const r=i.pop(),o=n.observerSlots.pop();s<i.length&&(r.sourceSlots[o]=s,i[s]=r,n.observerSlots[s]=o)}}if(e.owned){for(t=0;t<e.owned.length;t++)ce(e.owned[t]);e.owned=null}if(e.cleanups){for(t=0;t<e.cleanups.length;t++)e.cleanups[t]();e.cleanups=null}e.state=0,e.context=null}function Ee(e){throw e}function te(e){if(typeof e=="function"&&!e.length)return te(e());if(Array.isArray(e)){const t=[];for(let n=0;n<e.length;n++){const s=te(e[n]);Array.isArray(s)?t.push.apply(t,s):t.push(s)}return t}return e}const je=Symbol("fallback");function ue(e){for(let t=0;t<e.length;t++)e[t]()}function Ge(e,t,n={}){let s=[],i=[],r=[],o=0,l=t.length>1?[]:null;return ee(()=>ue(r)),()=>{let a=e()||[],u,c;return a[Oe],D(()=>{let d=a.length,b,A,T,P,B,f,w,S,I;if(d===0)o!==0&&(ue(r),r=[],s=[],i=[],o=0,l&&(l=[])),n.fallback&&(s=[je],i[0]=M(ke=>(r[0]=ke,n.fallback())),o=1);else if(o===0){for(i=new Array(d),c=0;c<d;c++)s[c]=a[c],i[c]=M(y);o=d}else{for(T=new Array(d),P=new Array(d),l&&(B=new Array(d)),f=0,w=Math.min(o,d);f<w&&s[f]===a[f];f++);for(w=o-1,S=d-1;w>=f&&S>=f&&s[w]===a[S];w--,S--)T[S]=i[w],P[S]=r[w],l&&(B[S]=l[w]);for(b=new Map,A=new Array(S+1),c=S;c>=f;c--)I=a[c],u=b.get(I),A[c]=u===void 0?-1:u,b.set(I,c);for(u=f;u<=w;u++)I=s[u],c=b.get(I),c!==void 0&&c!==-1?(T[c]=i[u],P[c]=r[u],l&&(B[c]=l[u]),c=A[c],b.set(I,c)):r[u]();for(c=f;c<d;c++)c in T?(i[c]=T[c],r[c]=P[c],l&&(l[c]=B[c],l[c](c))):i[c]=M(y);i=i.slice(0,o=d),s=a.slice(0)}return i});function y(d){if(r[c]=d,l){const[b,A]=N(c);return l[c]=A,t(a[c],b)}return t(a[c])}}}function g(e,t){return D(()=>e(t||{}))}function He(e){const t="fallback"in e&&{fallback:()=>e.fallback};return E(Ge(()=>e.each,e.children,t||void 0))}function W(e){let t=!1;const n=E(()=>e.when,void 0,{equals:(s,i)=>t?s===i:!s==!i});return E(()=>{const s=n();if(s){const i=e.children;return(t=typeof i=="function"&&i.length>0)?D(()=>i(s)):i}return e.fallback})}function Ue(e){let t=!1;const n=Fe(()=>e.children),s=E(()=>{let i=n();Array.isArray(i)||(i=[i]);for(let r=0;r<i.length;r++){const o=i[r].when;if(o)return[r,o,i[r]]}return[-1]},void 0,{equals:(i,r)=>i[0]===r[0]&&(t?i[1]===r[1]:!i[1]==!r[1])&&i[2]===r[2]});return E(()=>{const[i,r,o]=s();if(i<0)return e.fallback;const l=o.children;return(t=typeof l=="function"&&l.length>0)?D(()=>l(r)):l})}function J(e){return e}function qe(e,t,n){let s=n.length,i=t.length,r=s,o=0,l=0,a=t[i-1].nextSibling,u=null;for(;o<i||l<r;){if(t[o]===n[l]){o++,l++;continue}for(;t[i-1]===n[r-1];)i--,r--;if(i===o){const c=r<s?l?n[l-1].nextSibling:n[r-l]:a;for(;l<r;)e.insertBefore(n[l++],c)}else if(r===l)for(;o<i;)(!u||!u.has(t[o]))&&t[o].remove(),o++;else if(t[o]===n[r-1]&&n[l]===t[i-1]){const c=t[--i].nextSibling;e.insertBefore(n[l++],t[o++].nextSibling),e.insertBefore(n[--r],c),t[i]=n[r]}else{if(!u){u=new Map;let y=l;for(;y<r;)u.set(n[y],y++)}const c=u.get(t[o]);if(c!=null)if(l<c&&c<r){let y=o,d=1,b;for(;++y<i&&y<r&&!((b=u.get(t[y]))==null||b!==c+d);)d++;if(d>c-l){const A=t[o];for(;l<c;)e.insertBefore(n[l++],A)}else e.replaceChild(n[l++],t[o++])}else o++;else t[o++].remove()}}}const fe="_$DX_DELEGATE";function Ve(e,t,n){let s;return M(i=>{s=i,t===document?e():v(t,e(),t.firstChild?null:void 0,n)}),()=>{s(),t.textContent=""}}function k(e,t,n){const s=document.createElement("template");s.innerHTML=e;let i=s.content.firstChild;return n&&(i=i.firstChild),i}function Te(e,t=window.document){const n=t[fe]||(t[fe]=new Set);for(let s=0,i=e.length;s<i;s++){const r=e[s];n.has(r)||(n.add(r),t.addEventListener(r,Qe))}}function de(e,t,n){n==null?e.removeAttribute(t):e.setAttribute(t,n)}function ne(e,t,n,s){s?Array.isArray(n)?(e[`$$${t}`]=n[0],e[`$$${t}Data`]=n[1]):e[`$$${t}`]=n:Array.isArray(n)?e.addEventListener(t,i=>n[0](n[1],i)):e.addEventListener(t,n)}function We(e,t,n={}){const s=Object.keys(t||{}),i=Object.keys(n);let r,o;for(r=0,o=i.length;r<o;r++){const l=i[r];!l||l==="undefined"||t[l]||(he(e,l,!1),delete n[l])}for(r=0,o=s.length;r<o;r++){const l=s[r],a=!!t[l];!l||l==="undefined"||n[l]===a||!a||(he(e,l,!0),n[l]=a)}return n}function v(e,t,n,s){if(n!==void 0&&!s&&(s=[]),typeof t!="function")return Q(e,t,s,n);C(i=>Q(e,t(),i,n),s)}function he(e,t,n){const s=t.trim().split(/\s+/);for(let i=0,r=s.length;i<r;i++)e.classList.toggle(s[i],n)}function Qe(e){const t=`$$${e.type}`;let n=e.composedPath&&e.composedPath()[0]||e.target;for(e.target!==n&&Object.defineProperty(e,"target",{configurable:!0,value:n}),Object.defineProperty(e,"currentTarget",{configurable:!0,get(){return n||document}}),p.registry&&!p.done&&(p.done=!0,document.querySelectorAll("[id^=pl-]").forEach(s=>s.remove()));n!==null;){const s=n[t];if(s&&!n.disabled){const i=n[`${t}Data`];if(i!==void 0?s(i,e):s(e),e.cancelBubble)return}n=n.host&&n.host!==n&&n.host instanceof Node?n.host:n.parentNode}}function Q(e,t,n,s,i){for(p.context&&!n&&(n=[...e.childNodes]);typeof n=="function";)n=n();if(t===n)return n;const r=typeof t,o=s!==void 0;if(e=o&&n[0]&&n[0].parentNode||e,r==="string"||r==="number"){if(p.context)return n;if(r==="number"&&(t=t.toString()),o){let l=n[0];l&&l.nodeType===3?l.data=t:l=document.createTextNode(t),n=O(e,n,s,l)}else n!==""&&typeof n=="string"?n=e.firstChild.data=t:n=e.textContent=t}else if(t==null||r==="boolean"){if(p.context)return n;n=O(e,n,s)}else{if(r==="function")return C(()=>{let l=t();for(;typeof l=="function";)l=l();n=Q(e,l,n,s)}),()=>n;if(Array.isArray(t)){const l=[];if(se(l,t,i))return C(()=>n=Q(e,l,n,s,!0)),()=>n;if(p.context){for(let a=0;a<l.length;a++)if(l[a].parentNode)return n=l}if(l.length===0){if(n=O(e,n,s),o)return n}else Array.isArray(n)?n.length===0?ge(e,l,s):qe(e,n,l):(n&&O(e),ge(e,l));n=l}else if(t instanceof Node){if(p.context&&t.parentNode)return n=o?[t]:t;if(Array.isArray(n)){if(o)return n=O(e,n,s,t);O(e,n,null,t)}else n==null||n===""||!e.firstChild?e.appendChild(t):e.replaceChild(t,e.firstChild);n=t}}return n}function se(e,t,n){let s=!1;for(let i=0,r=t.length;i<r;i++){let o=t[i],l;if(o instanceof Node)e.push(o);else if(!(o==null||o===!0||o===!1))if(Array.isArray(o))s=se(e,o)||s;else if((l=typeof o)=="string")e.push(document.createTextNode(o));else if(l==="function")if(n){for(;typeof o=="function";)o=o();s=se(e,Array.isArray(o)?o:[o])||s}else e.push(o),s=!0;else e.push(document.createTextNode(o.toString()))}return s}function ge(e,t,n){for(let s=0,i=t.length;s<i;s++)e.insertBefore(t[s],n)}function O(e,t,n,s){if(n===void 0)return e.textContent="";const i=s||document.createTextNode("");if(t.length){let r=!1;for(let o=t.length-1;o>=0;o--){const l=t[o];if(i!==l){const a=l.parentNode===e;!r&&!o?a?e.replaceChild(i,l):e.insertBefore(i,n):a&&l.remove()}else r=!0}}else e.insertBefore(i,n);return[i]}const Je="http://www.w3.org/2000/svg";function Xe(e,t=!1){return t?document.createElementNS(Je,e):document.createElement(e)}function Ye(e){const{useShadow:t}=e,n=document.createTextNode(""),s=e.mount||document.body;function i(){if(p.context){const[r,o]=N(!1);return queueMicrotask(()=>o(!0)),()=>r()&&e.children}else return()=>e.children}if(s instanceof HTMLHeadElement){const[r,o]=N(!1),l=()=>o(!0);M(a=>v(s,()=>r()?a():i()(),null)),ee(()=>{p.context?queueMicrotask(l):l()})}else{const r=Xe(e.isSVG?"g":"div",e.isSVG),o=t&&r.attachShadow?r.attachShadow({mode:"open"}):r;Object.defineProperty(r,"host",{get(){return n.parentNode}}),v(o,i()),s.appendChild(r),e.ref&&e.ref(r),ee(()=>s.removeChild(r))}return n}const[me,_e]=N("");function X(e){_e(e),setTimeout(()=>{_e("")},3e3)}const Ze="_alertContainer_1s645_1",ze="_message_1s645_21";var ye={alertContainer:Ze,message:ze};const et=k("<div><p></p></div>");function tt(){return g(Ye,{get children(){return g(W,{get when(){return me()},get children(){const e=et.cloneNode(!0),t=e.firstChild;return v(t,me),C(n=>{const s=ye.alertContainer,i=ye.message;return s!==n._v$&&(e.className=n._v$=s),i!==n._v$2&&(t.className=n._v$2=i),n},{_v$:void 0,_v$2:void 0}),e}})}})}const xe="deck_id";function ae(){return localStorage.getItem(xe)}function nt(e){localStorage.setItem(xe,e)}async function st(){if(ae()){await it();return}const n=await(await fetch("https://deckofcardsapi.com/api/deck/new/shuffle/?deck_count=6")).json();nt(n.deck_id)}async function we(e=1){const t=ae();return t?(await(await fetch(`https://deckofcardsapi.com/api/deck/${t}/draw/?count=${e}`)).json()).cards.map(i=>({id:i.code,img:i.image,value:i.value})):[]}async function it(){const e=ae();e&&await fetch(`https://deckofcardsapi.com/api/deck/${e}/shuffle`)}const rt="_app_1rb25_1",lt="_cardContainerBottom_1rb25_15",ot="_cardContainerTop_1rb25_23";var Y={app:rt,cardContainerBottom:lt,cardContainerTop:ot,"card-top":"_card-top_1rb25_1","card-bottom":"_card-bottom_1rb25_1"};const ct="_card_wo6y3_1";var at={card:ct};const ut=k('<div><img width="150" height="210"></div>');function ft(e){return(()=>{const t=ut.cloneNode(!0),n=t.firstChild;return C(s=>{const i=at.card,r=e.card.img,o=e.card.value;return i!==s._v$&&(t.className=s._v$=i),r!==s._v$2&&de(n,"src",s._v$2=r),o!==s._v$3&&de(n,"alt",s._v$3=o),s},{_v$:void 0,_v$2:void 0,_v$3:void 0}),t})()}const dt="_section_on7bi_1",ht="_sectionWithTitleOnBottom_on7bi_13",gt="_title_on7bi_23",mt="_cardsContainer_on7bi_41";var G={section:dt,sectionWithTitleOnBottom:ht,title:gt,cardsContainer:mt};const _t=k('<section><h1> - <span style="color: crimson;"></span></h1><div></div></section>');function ve(e){const t=E(()=>{const n=e.cards.some(s=>["JACK","QUEEN","KING"].includes(s.value));return e.cards.reduce((s,i)=>{let r=0;return i.value==="ACE"?r=n?11:1:["JACK","QUEEN","KING"].includes(i.value)?r=10:r=parseInt(i.value,10),s+r},0)});return Ce(()=>{e.onPointsChange(t())}),(()=>{const n=_t.cloneNode(!0),s=n.firstChild,i=s.firstChild,r=i.nextSibling,o=s.nextSibling;return v(s,()=>e.title,i),v(r,t),v(o,g(He,{get each(){return e.cards},children:l=>g(ft,{card:l})})),C(l=>{const a={[G.section]:!0,[e.className]:e.className,[G.sectionWithTitleOnBottom]:e.titleOnBottom},u=G.title,c=G.cardsContainer;return l._v$=We(n,a,l._v$),u!==l._v$2&&(s.className=l._v$2=u),c!==l._v$3&&(o.className=l._v$3=c),l},{_v$:void 0,_v$2:void 0,_v$3:void 0}),n})()}const yt="_actionsContainer_rscbl_1",wt="_actionBtn_rscbl_11";var Z={actionsContainer:yt,actionBtn:wt};const vt=k("<div><button>Stand</button><button>Hit</button></div>");function bt(e){return(()=>{const t=vt.cloneNode(!0),n=t.firstChild,s=n.nextSibling;return ne(n,"click",e.onStand,!0),ne(s,"click",e.onHit,!0),C(i=>{const r=Z.actionsContainer,o=Z.actionBtn,l=Z.actionBtn;return r!==i._v$&&(t.className=i._v$=r),o!==i._v$2&&(n.className=i._v$2=o),l!==i._v$3&&(s.className=i._v$3=l),i},{_v$:void 0,_v$2:void 0,_v$3:void 0}),t})()}Te(["click"]);const pt="_board_13mab_1",$t="_message_13mab_15",Ct="_btn_13mab_27";var z={board:pt,message:$t,btn:Ct};const At=k("<button>Restart</button>"),St=k("<div><p></p></div>");function be(e){return(()=>{const t=St.cloneNode(!0),n=t.firstChild;return v(n,()=>e.message),v(t,g(W,{get when(){return e.showRestartBtn},get children(){const s=At.cloneNode(!0);return ne(s,"click",e.onRestart,!0),C(()=>s.className=z.btn),s}}),null),C(s=>{const i=z.board,r=z.message;return i!==s._v$&&(t.className=s._v$=i),r!==s._v$2&&(n.className=s._v$2=r),s},{_v$:void 0,_v$2:void 0}),t})()}Te(["click"]);const Nt=k("<div></div>"),H=21;function Et(){const[e,t]=N([]),[n,s]=N([]),[i,r]=N(!1),[o,l]=N(0),[a,u]=N({gameFinished:!1,winner:"",dealerTurn:!1});let c;async function y(f=1){try{if(i())return;r(!0);const w=await we(f);t([...e(),...w])}catch{X("Failed to draw card")}finally{r(!1)}}async function d(f=1){try{const w=await we(f);s([...n(),...w])}catch{X("Failed to draw card")}}function b(f){l(f),f===H?u({gameFinished:!0,winner:"Player",dealerTurn:!1}):f>H&&u({gameFinished:!0,winner:"Dealer",dealerTurn:!1})}function A(f){f===H||f>o()&&a().dealerTurn?(u({gameFinished:!0,winner:"Dealer",dealerTurn:!1}),clearInterval(c)):f>H&&(u({gameFinished:!0,winner:"Player",dealerTurn:!1}),clearInterval(c))}function T(){d()}function P(){u({gameFinished:!1,winner:"",dealerTurn:!0}),c=setInterval(()=>{y()},2e3)}function B(){u({gameFinished:!1,winner:"",dealerTurn:!1}),s([]),t([]),y(),d(2)}return De(async()=>{try{await st(),y(),d(2)}catch{X("Failed to load deck")}}),(()=>{const f=Nt.cloneNode(!0);return v(f,g(tt,{}),null),v(f,g(W,{get when(){return e().length},get children(){return g(ve,{get className(){return Y.cardContainerTop},title:"Dealer",get cards(){return e()},titleOnBottom:!0,onPointsChange:A})}}),null),v(f,g(Ue,{get children(){return[g(J,{get when(){return a().dealerTurn},get children(){return g(be,{message:"Dealer turn"})}}),g(J,{get when(){return!a().gameFinished},get children(){return g(bt,{onHit:T,onStand:P})}}),g(J,{get when(){return a().gameFinished},get children(){return g(be,{get message(){return`${a().winner} won!`},showRestartBtn:!0,onRestart:B})}})]}}),null),v(f,g(W,{get when(){return n().length},get children(){return g(ve,{get className(){return Y.cardContainerBottom},title:"Player",get cards(){return n()},onPointsChange:b})}}),null),C(()=>f.className=Y.app),f})()}Ve(()=>g(Et,{}),document.getElementById("root"));
